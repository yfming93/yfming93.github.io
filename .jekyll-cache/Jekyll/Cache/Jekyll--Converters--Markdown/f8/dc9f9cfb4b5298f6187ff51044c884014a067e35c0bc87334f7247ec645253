I"—<ul id="markdown-toc">
  <li><a href="#0x001-å‘01" id="markdown-toc-0x001-å‘01">0x001 å‘01</a></li>
  <li><a href="#0x002-å‘02" id="markdown-toc-0x002-å‘02">0x002 å‘02</a></li>
  <li><a href="#0x003-å‘03" id="markdown-toc-0x003-å‘03">0x003 å‘03</a></li>
  <li><a href="#0x004-å‘04" id="markdown-toc-0x004-å‘04">0x004 å‘04</a></li>
  <li><a href="#0x005-å‘05" id="markdown-toc-0x005-å‘05">0x005 å‘05</a></li>
  <li><a href="#0x006-å‘06" id="markdown-toc-0x006-å‘06">0x006 å‘06</a></li>
  <li><a href="#0x007-å‘07" id="markdown-toc-0x007-å‘07">0x007 å‘07</a></li>
  <li><a href="#0x008-å‘08" id="markdown-toc-0x008-å‘08">0x008 å‘08</a></li>
</ul>
<hr />

<h2 id="0x001-å‘01">0x001 å‘01</h2>

<p>ç”Ÿäº§ç¯å¢ƒçš„ é¡µé¢ç»Ÿè®¡æ•°æ®åªèƒ½æ˜¾ç¤ºæ˜¨å¤©çš„ï¼Œæˆ–è€…ä»¥å‰çš„æŸä¸€å‘¨ã€‚ä¸èƒ½æ˜¾ç¤ºè‡ªç„¶æ—¥ã€‚<br />
<img src="https://i.loli.net/2021/06/03/saTvyiKqXRkr2QA.png" alt="" /></p>

<h2 id="0x002-å‘02">0x002 å‘02</h2>
<p>å¿…é¡»è¦æŠŠç‰ˆæœ¬ç®¡ç†éƒ½åŠ ä¸Šé‡‡é›†ä¸­ã€‚ä¸åŠ æµ‹è¯•å’Œç”Ÿäº§éƒ½ç»Ÿè®¡ä¸åˆ°ã€‚<br />
<img src="https://i.loli.net/2021/06/03/osb9c4hlNqJLYCH.png" alt="" /></p>

<h2 id="0x003-å‘03">0x003 å‘03</h2>
<p>å®˜æ–¹è·å–å®‰å“çš„æµ‹è¯•æœºidä¸å¥½ç”¨ã€‚</p>

<ul>
  <li>åœ¨å®‰å“é¡¹ç›®å·¥ç¨‹æ–‡ä»¶å¤¹çš„ <code class="language-plaintext highlighter-rouge">MainActivity.java</code> ä¸­çš„<code class="language-plaintext highlighter-rouge">onCreate</code>æ‰§è¡Œä»¥ä¸‹æ–¹æ³•<code class="language-plaintext highlighter-rouge">getTestDeviceInfo(getApplicationContext());</code>è·å–çš„idæ˜¯ç©ºçš„ã€‚
    <ul>
      <li><strong>è§£å†³ï¼š</strong> å»¶æ—¶å‡ ç§’æ‰§è¡Œå°±è·å–åˆ°ã€‚</li>
    </ul>
  </li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>public static String[] getTestDeviceInfo(Context context){
    String[] deviceInfo = new String[2];
    try {
        if(context != null){
            deviceInfo[0] = DeviceConfig.getDeviceIdForGeneral(context);
            deviceInfo[1] = DeviceConfig.getMac(context);
            android.util.Log.i("UMLog--deviceInfo0", deviceInfo[0]);
            android.util.Log.i("UMLog--deviceInfo1", deviceInfo[1]);

        }
    } catch (Exception e){
    }
    return deviceInfo;
}
</code></pre></div></div>

<h2 id="0x004-å‘04">0x004 å‘04</h2>
<p>æ·»åŠ çš„æµ‹è¯•æ‰‹æœºï¼Œå¦‚æœé•¿æ—¶é—´æ”¶å½•ä¸åˆ°ä¿¡æ¯ã€‚æœ€åä¸€æ¬¡æµ‹è¯•æ—¶é—´è¿Ÿè¿Ÿä¸æ›´æ–°ã€‚å¯èƒ½æ˜¯è®¾å¤‡ä¿¡æ¯å˜äº†ã€‚éœ€è¦åˆ é™¤é‡æ–°æ·»åŠ ã€‚</p>

<ul>
  <li><strong>è§£å†³:</strong>åˆ é™¤æµ‹è¯•è®¾å¤‡ å¸è½½é‡è£…åº”ç”¨.é‡æ–°æ·»åŠ æµ‹è¯•è®¾å¤‡ ç„¶åè§¦å‘é¡µé¢ å®Œå…¨é€€å‡ºåº”ç”¨  ä¸åœ¨åå°è¿è¡Œã€‚ é—´éš”40ç§’ é‡æ–°å¯åŠ¨åº”ç”¨ã€‚çœ‹ä¸‹æ•°æ®æ˜¯å¦ä¸Šä¼ ã€‚</li>
</ul>

<p><img src="https://i.loli.net/2021/06/03/4lAqURJhaOHpkLb.png" alt="" /></p>

<h2 id="0x005-å‘05">0x005 å‘05</h2>
<p>é”™è¯¯æ—¥å¿—ï¼Œæš‚æ— æ•°æ®ï¼Œæ˜¯ä¸ä½“ç°åœ¨é›†æˆæµ‹è¯•æ¨¡å¼ä¸‹çš„ã€‚å®˜æ–¹æŠŠè¿™ä¸ªæ”¾åœ¨è¿™é‡Œåˆçœ‹ä¸æ•°æ®ç¡®å®å¾ˆé¸¡è‚‹ã€‚</p>
<ul>
  <li><strong>è§£å†³ï¼š</strong>éœ€è¦å•ç‹¬é›†æˆU-APM</li>
</ul>

<p><img src="https://i.loli.net/2021/06/03/SGNnyAuhmVEYWac.jpg" alt="" /></p>

<h2 id="0x006-å‘06">0x006 å‘06</h2>
<p><code class="language-plaintext highlighter-rouge">onPageStart</code> å’Œ  <code class="language-plaintext highlighter-rouge">onPageEnd</code> æ²¡æˆå¯¹ä½¿ç”¨çš„è¯å‹ç›Ÿæ—¥å¿—ä¼šæŠ¥é”™ã€‚</p>

<p><strong>è§£å†³ï¼š</strong>ä¸€å®šè¦æƒ³åŠæ³•æˆå¯¹è°ƒç”¨ã€‚å°±æ˜¯å…ˆ<code class="language-plaintext highlighter-rouge">onPageStart</code>äº†ä¸€å®šè¦å…ˆ<code class="language-plaintext highlighter-rouge">onPageEnd</code>åå†æ¬¡å»<code class="language-plaintext highlighter-rouge">onPageStart</code>ã€‚</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>E/UMLog (30670): â”‚ å¯¹äºé¡µé¢XXXï¼Œè¯·ç¡®ä¿å…ˆä¾åºæˆå¯¹è°ƒç”¨onPageStartï¼ŒonPageEndæ¥å£ï¼Œå†è°ƒç”¨onPageStartæ¥å£å¯¹å…¶å®ƒé¡µé¢è¿›è¡Œç»Ÿè®¡ã€‚ 
E/UMLog (30670): â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€è§£å†³æ–¹æ¡ˆâ”€â”€â”€â”€â”€â”€ 
E/UMLog (30670): â”‚ å¯¹äºä»»æ„ä¸€ä¸ªé¡µé¢ï¼Œå¿…é¡»ä¾åºæˆå¯¹è°ƒç”¨onPageStartä»¥åŠonPageEndï¼Œä¸èƒ½æœ‰é—æ¼ã€‚è¯¦è§é“¾æ¥ https://developer.umeng.com/docs/66632/detail/66975?um_channel=sdk 
I/UMLog (30670): onPageStart:xxx
</code></pre></div></div>

<p><strong>è§£å†³ç¤ºä¾‹ä»£ç ï¼š</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>static void onPageStart (String pageName)async {
    String  page = FmAnalysis.pageName(pageName);
    if ( page != umStartPage &amp;&amp;(page.length &gt; 0)){
      if (umStartPage != ''){
        await UmengCommonSdk.onPageEnd(umStartPage);
      }
      umStartPage = page;
      await UmengCommonSdk.onPageStart(page);
    }
  }
  static void onPageEnd (String pageName) async {

    String  page = FmAnalysis.pageName(pageName);
    if ( (page == umStartPage )&amp;&amp;(umStartPage != '')){
        await UmengCommonSdk.onPageEnd(umStartPage);
        umStartPage = '';
    }
  }

  static String pageName (String pageName){
    String name = pageName??'';
    if (name == '/') name = '';
    if (name == '/FmTabPage') name = '';
    if (name.contains('/Fm')){
      name = name.replaceFirst('/Fm', '');
    }
    return name;
  }
</code></pre></div></div>

<p>ç„¶å æ–°å»º <code class="language-plaintext highlighter-rouge">AppAnalysis</code>æ–‡ä»¶ã€‚åœ¨<code class="language-plaintext highlighter-rouge">MaterialApp</code>ä¸­çš„<code class="language-plaintext highlighter-rouge">navigatorObservers: [AppAnalysis()],</code>å¼•ç”¨ã€‚æˆ‘ä½¿ç”¨çš„æ˜¯é…åˆ<code class="language-plaintext highlighter-rouge">GetMaterialApp</code>ä½¿ç”¨çš„ã€‚æ•´ä¸ªé¡¹ç›®ä½¿ç”¨äº†<code class="language-plaintext highlighter-rouge">Get</code>ç®¡ç†è·¯ç”±ã€‚</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>class AppAnalysis extends NavigatorObserver {
  @override
  void didPush(Route&lt;dynamic&gt; route, Route&lt;dynamic&gt; previousRoute) {
    // print('---didPush.Get.previousRoute:${Get.previousRoute}');
    // print('---didPush.Get.currentRoute:${Get.currentRoute}');
    FmAnalysis.onPageStart(Get.currentRoute);
  }

  @override
  void didPop(Route&lt;dynamic&gt; route, Route&lt;dynamic&gt; previousRoute) {
    // print('---didPop.Get.previousRoute:${Get.previousRoute}');
    // print('---didPop.Get.currentRoute:${Get.currentRoute}');
    FmAnalysis.onPageEnd(Get.currentRoute);
  }

  @override
  void didReplace({Route&lt;dynamic&gt; newRoute, Route&lt;dynamic&gt; oldRoute}) {
    // print('---didReplace.Get.previousRoute:${Get.previousRoute}');
    // print('---didReplace.Get.currentRoute:${Get.currentRoute}');
    // FmAnalysis.onPageEnd(Get.previousRoute);
    // FmAnalysis.onPageStart(Get.currentRoute);

  }
}
</code></pre></div></div>

<h2 id="0x007-å‘07">0x007 å‘07</h2>
<p>é›†æˆå‹ç›Ÿéœ€è¦é—®é¢˜è”ç³»ä¸åˆ°å®˜æ–¹äººå‘˜ã€‚<br />
<strong>è§£å†³ï¼š</strong></p>
<ul>
  <li>1ã€æå®¢æœå·¥å•ï¼Œæ•ˆç‡ææ…¢ã€‚</li>
  <li>2ã€æ‹¨æ‰“å®˜æ–¹400å®¢æœç”µè¯å’¨è¯¢</li>
  <li>3ã€æˆ‘æ¨èçš„ï¼Œåœ¨çº¿å®¢æœï¼Œè¿ç»­å‘ä¸¤æ¬¡â€œäººå·¥â€ã€‚å°±å¥½è½¬æ¥çš„åœ¨çº¿çš„äººå·¥å®¢æœã€‚å›å¤è®¨è®ºé—®é¢˜æ¯”è¾ƒåŠæ—¶ã€‚æˆ‘ä¹‹å‰éƒ½ä¸çŸ¥é“è¿™ä¸ªæ–¹æ¡ˆã€‚è¿˜æ˜¯æ‰“400ç”µè¯å’¨è¯¢å®˜æ–¹å‘Šè¯‰æˆ‘çš„ã€‚</li>
</ul>

<h2 id="0x008-å‘08">0x008 å‘08</h2>
<p>å¦‚æœæŠŠæµ‹è¯•æ‰‹æœºè½¬å˜ä¸ºæ­£å¼ç”¨æˆ·æµ‹è¯•æ­£å¼ç¯å¢ƒæ•°æ®æ˜¯å¦ç»Ÿè®¡ã€‚<br />
<strong>è§£å†³ï¼š</strong>ç›´æ¥åœ¨æµ‹è¯•è®¾å¤‡ä¸­åˆ é™¤æµ‹è¯•æ‰‹æœºã€‚æ­£å¸¸ä½¿ç”¨APPã€‚ç¬¬äºŒå¤©æ‰èƒ½çœ‹åˆ°æ•°æ®è¢«ç»Ÿè®¡ã€‚</p>
:ET